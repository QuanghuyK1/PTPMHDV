<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Font -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600%7CUbuntu:300,400,500,700" rel="stylesheet">

	<!-- CSS -->
	<link rel="stylesheet" href="css/bootstrap-reboot.min.css">
	<link rel="stylesheet" href="css/bootstrap-grid.min.css">
	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
	<link rel="stylesheet" href="css/nouislider.min.css">
	<link rel="stylesheet" href="css/ionicons.min.css">
	<link rel="stylesheet" href="css/plyr.css">
	<link rel="stylesheet" href="css/photoswipe.css">
	<link rel="stylesheet" href="css/default-skin.css">
	<link rel="stylesheet" href="css/main.css">

	<!-- Favicons -->
	<link rel="icon" type="image/png" href="icon/favicon-32x32.png" sizes="32x32">
	<link rel="apple-touch-icon" href="icon/favicon-32x32.png">
	<link rel="apple-touch-icon" sizes="72x72" href="icon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="icon/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="144x144" href="icon/apple-touch-icon-144x144.png">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
	    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
	<meta name="description" content="">
	<meta name="keywords" content="">
	<meta name="author" content="Dmitry Volkov">
	<title>FlixGo – Online Movies, TV Shows & Cinema HTML Template</title>
	<style type="text/css">
		.active {
		    background-color:hotpink;
		    color:black;
		}
	</style>
</head>
<body class="body" style="background-color:#2b2b31">
	<div class="container-fluid">
		<div class="row bg-black" style="overflow: hidden;">
			<div class="col-8">
				<a href="index.html" class="header__logo">
					<img src="img/logo.svg" alt="">
				</a>
			</div>
			<div class="col-4 d-flex align-items-center justify-content-end">
				<!-- <i class="bi bi-bell-fill nofi" style="font-size:20px; color: white;font-style: normal;margin-right: 70px; cursor: pointer;"> Nofications<i class="bi bi-caret-down-fill" style="margin-left: 10px;"></i></i> -->
				<i class="bi bi-person-circle" style="font-size:20px; color: white;font-style: normal; margin-right: 30px; cursor: pointer;"><span class="user" style="margin-left: 10px;"></span><i class="bi bi-caret-down-fill" style="margin-left: 10px;"></i></i>
			</div>
		</div>
		<div class="nofication-box">
		<ul style="list-style-type: none;">
					<li><a href="">
							<div class="d-flex" style="margin-left: 30px;">
								<img src="img/covers/cover.jpg">
								<div class="name-hover" style="margin-left: 40px;">
									<span style="font-size:25px;font-weight: 700;">Lion King - John John</span><br>
									<span style="font-size:20px;font-weight: 500;">New Episode - Ep14: The New King</span><br>
									<span style="font-size:14px; font-weight:400;">3/10/2023 - Admin</span>
								</div>
							</div>
						</a>
					</li>
					<li>
						<a href="">
							<div class="d-flex" style="margin-left: 30px;">
								<img src="img/covers/cover.jpg">
								<div class="name-hover" style="margin-left: 40px;">
									<span style="font-size:25px;font-weight: 700;">Lion King - John John</span><br>
									<span style="font-size:20px;font-weight: 500;">New Episode - Ep14: The New King</span><br>
									<span style="font-size:14px; font-weight:400;">3/10/2023 - Admin</span>
								</div>
							</div>
						</a>
					</li>
					<li>
						<a href="">
							<div class="d-flex" style="margin-left: 30px;">
								<img src="img/covers/cover.jpg">
								<div class="name-hover" style="margin-left: 40px;">
									<span style="font-size:25px;font-weight: 700;">Lion King - John John</span><br>
									<span style="font-size:20px;font-weight: 500;">New Episode - Ep14: The New King</span><br>
									<span style="font-size:14px; font-weight:400;">3/10/2023 - Admin</span>
								</div>
							</div>
						</a>
					</li>
				</ul>
				<a class="show-more" style="margin-left: 200px; text-decoration: underline; color: hotpink;font-size: 20px;font-weight: 600;cursor: pointer;">Show More <i class="bi bi-arrow-down-circle"></i></a>
			</div>
			<div class="setting-box">
				<ul style="list-style-type: none;">
					<li class="panel">Account Panel</li>
					<li class="change-pw">Setting</li>
					<li class="logout">Log Out</li>
				</ul>
			</div>	
		<div class="row" style="height: 540px;margin-top: 50px;margin-left: 100px;margin-right: 100px;">
			<div class="col-3 menu">
				<div>
					<a href="index.html" class="header__logo" style="width: 100%;"> 
					<img src="img/logo.svg" alt="">
					</a>
					<span style="font-size: 26px; color: white; padding-left: 20px;">Personal Information</span>
					<ul class="menu-click" style="height: 420px;background-color:deeppink;color: white;">
						<li class="panel" >Account Panel</li>
						<li class="change-pw">Change Password</li>
						<li class="pricing">Status Pricing</li>
						<li class="History">History Order</li>
					</ul>
				</div>
			</div>
			<div class="col-9 menu-content" style="background-color:white">
				<div class="account-info">
					<div class="d-flex info">
						<div class="d-flex flex-column">
							<label>User ID</label>
							<input class="input-id" type="text" name="" value="" style="width: 300px;">
						</div>
						<div class="d-flex flex-column" style="margin-left:200px">
							<label>Client Name</label>
							<input class="input-info input-client-name" type="text" name="" value="Đặng Quang Huy" style="width: 300px;">
						</div>
					</div>
					<div class="d-flex info">
						<div class="d-flex flex-column">
							<label>Phone Number</label>
							<input class="input-info input-phone-number" type="text" class="number-input" name="" value="0123456789" style="width: 300px;">
						</div>
						<div class="d-flex flex-column" style="margin-left:200px">
							<label>Birthday</label>
							<input class="input-info input-birthday" type="date" name="" value="3/10/2023" style="width: 300px;">
						</div>
					</div>
					<div class="d-flex flex-column info">
						<label>Email Address</label>
						<input class="input-info input-email" type="email" name="" style="width: 300px;display: block;">
					</div>
					<div class="d-flex flex-column">
						<label>Gender</label>
						<div class="d-flex">
							<div class="form-check">
							  <input class="form-check-input input-info" type="radio" name="flexRadioDefault" id="gender-male">
							  <label class="form-check-label" for="gender-male">
							    Male
							  </label>
							</div>
							<div class="form-check" style="margin-left:20px">
							  <input class="form-check-input input-info" type="radio" name="flexRadioDefault" id="gender-female">
							  <label class="form-check-label" for="gender-female">
							    Female
							  </label>
							</div>
						</div>
					</div>
					<button class=" btn-update" style="background-color:hotpink;color: white; margin-left: 300px; padding: 8px 30px;border-radius: 10px;">Update</button>
					<button class="btn-apply" style="background-color:gray; color: white; margin-left: 20px; padding: 8px 30px;border-radius: 10px;">Apply</button>
				</div>
				<div class="nofication-box-1">
					<table class="table table-danger table-hover table-bordered text-center">
						<thead>
							<tr>
						      <th scope="col">#</th>
						      <th scope="col">Image</th>
						      <th scope="col">Nofications</th>
						      <th scope="col">Content</th>
						      <th scope="col">Release Days</th>
						      <th scope="col">Handle</th>
						    </tr>
						    <tbody>
						    <tr>
						      <th scope="row">1</th>
						      <td><img src="img/covers/cover.jpg"></td>
						      <td>Lion King - John John - New Episode</td>
						      <td>Ep14: The New King</td>
						      <td>3/10/2023 - Admin</td>
						      <td><button type="button" class="btn btn-info">Show More</button></td>
						    </tr>
						    <tr>
						      <th scope="row">1</th>
						      <td><img src="img/covers/cover.jpg"></td>
						      <td>Lion King - John John - New Episode</td>
						      <td>Ep14: The New King</td>
						      <td>3/10/2023 - Admin</td>
						      <td><button type="button" class="btn btn-info">Show More</button></td>
						    </tr>
						    <tr>
						      <th scope="row">1</th>
						      <td><img src="img/covers/cover.jpg"></td>
						      <td>Lion King - John John - New Episode</td>
						      <td>Ep14: The New King</td>
						      <td>3/10/2023 - Admin</td>
						      <td><button type="button" class="btn btn-info">Show More</button></td>
						    </tr>
						  	

						  </tbody>
						</thead>
					</table>
					<nav aria-label="...">
					  <ul class="pagination">
					    <li class="page-item disabled">
					      <a class="page-link">Previous</a>
					    </li>
					    <li class="page-item"><a class="page-link" href="#">1</a></li>
					    <li class="page-item active" aria-current="page">
					      <a class="page-link" href="#">2</a>
					    </li>
					    <li class="page-item"><a class="page-link" href="#">3</a></li>
					    <li class="page-item">
					      <a class="page-link" href="#">Next</a>
					    </li>
					  </ul>
					</nav>
				</div>
				<div class="change-pw-box">
					<div class="d-flex flex-column">
						<label>Old Password</label>
						<input class="input-pw password" type="password" name="" style="width: 300px;">
					</div>
					<div class="d-flex flex-column">
						<label>New Password</label>
						<input class="input-pw newPassword" type="password" name="" style="width: 300px;">
					</div>
					<div class="d-flex flex-column">
						<label>Confirm New Password</label>
						<input class="input-pw confirmPassword" type="password" name="" style="width: 300px;">
					</div>
					<label class="error-label" style="color:red; font-size: 20px;"></label>
					<button class="btn-update btn-change-pw" style="background-color:hotpink;color: white; margin-left: 350px; padding: 8px 30px;border-radius: 10px;margin-top: 20px;">Change Password</button>
				</div>
				<div class="status-price">
					<!-- pricing -->
					<div class="section">
						<div class="container">
							<div class="row">
								<!-- end plan features -->

								<!-- price -->
								<div class="col-12 col-md-6 col-lg-4">
									<div class="price">
										<div class="price__item price__item--first"><span>Basic</span> <span class="basic-price">Free</span></div>
										<div class="price__item"><span class="basic-time"></span></div>
										<div class="price__item"><span>720p Resolution</span></div>
										<div class="price__item"><span>Limited Availability</span></div>
										<div class="price__item"><span>Desktop Only</span></div>
										<div class="price__item"><span>Limited Support</span></div>
										<span class="price__btn_1 price__btn">Not Actived</span>
									</div>
								</div>
								<!-- end price -->

								<!-- price -->
								<div class="col-12 col-md-6 col-lg-4">
									<div class="price price--premium">
										<div class="price__item price__item--first"><span>Premium</span> <span class="premium-price">$19.99</span></div>
										<div class="price__item premium-time"><span>1 Month</span></div>
										<div class="price__item"><span>Full HD</span></div>
										<div class="price__item"><span>Lifetime Availability</span></div>
										<div class="price__item"><span>TV & Desktop</span></div>
										<div class="price__item"><span>24/7 Support</span></div>
										<span class="price__btn_2 price__btn">Not Actived</span>
									</div>
								</div>
								<!-- end price -->

								<!-- price -->
								<div class="col-12 col-md-6 col-lg-4">
									<div class="price">
										<div class="price__item price__item--first"><span>Cinematic</span> <span class="cinematic-price">$39.99</span></div>
										<div class="price__item cinematic-time"><span>2 Months</span></div>
										<div class="price__item"><span>Ultra HD</span></div>
										<div class="price__item"><span>Lifetime Availability</span></div>
										<div class="price__item"><span>Any Device</span></div>
										<div class="price__item"><span>24/7 Support</span></div>
										<span class="price__btn_3 price__btn">Not Actived</span>
									</div>
								</div>
								<!-- end price -->
							</div>
						</div>
					</div>
					<!-- end pricing -->
				</div>
				<div class="history-order">
					<table class="table table-danger table-hover table-bordered text-center history-purchase">
						<thead>
							<tr>
						      <th scope="col">#</th>
						      <th scope="col">Type Price</th>
						      <th scope="col">Open Date</th>
						      <th scope="col">Close Date</th>
						      <th scope="col">Status</th>
						    </tr>
						    <tbody>
						    <!-- <tr>
						      <th scope="row">1</th>
						      <td>Basic Price</td>
						      <td>2/24/2023</td>
						      <td>3/3/2023</td>
						      <td>Disabled</td>
						    </tr>
						    -->
						  	

						  </tbody>
						</thead>
					</table>
					<!-- <nav aria-label="...">
					  <ul class="pagination">
					    <li class="page-item disabled">
					      <a class="page-link">Previous</a>
					    </li>
					    <li class="page-item"><a class="page-link" href="#">1</a></li>
					    <li class="page-item active" aria-current="page">
					      <a class="page-link" href="#">2</a>
					    </li>
					    <li class="page-item"><a class="page-link" href="#">3</a></li>
					    <li class="page-item">
					      <a class="page-link" href="#">Next</a>
					    </li>
					  </ul>
					</nav> -->
				</div>
			</div>
		</div>
	</div>
	<!-- JS -->
	<script src="js/jquery-3.3.1.min.js"></script>
	<script src="js/bootstrap.bundle.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/jquery.mousewheel.min.js"></script>
	<script src="js/jquery.mCustomScrollbar.min.js"></script>
	<script src="js/wNumb.js"></script>
	<script src="js/nouislider.min.js"></script>
	<script src="js/plyr.min.js"></script>
	<script src="js/jquery.morelines.min.js"></script>
	<script src="js/photoswipe.min.js"></script>
	<script src="js/photoswipe-ui-default.min.js"></script>
	<script src="js/main.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
	<script type="text/javascript">
		function validateNumber(event) {
		    var key = window.event ? event.keyCode : event.which;
		    if (event.keyCode === 8 || event.keyCode === 46) {
		        return true;
		    } else if ( key < 48 || key > 57 ) {
		        return false;
		    } else {
		        return true;
		    }
		};
		$(document).ready(function(){
		    $('.number-input').keypress(validateNumber);
		});
		var t =0;
		$( ".nofi" ).click(function() {
		  if(t==0){
		  	$( ".nofication-box" ).css("display","block");
		  	$( ".setting-box" ).css("display","none");
		  	t=1;
		  }else{
		  	$( ".nofication-box" ).css("display","none");
		  	$( ".setting-box" ).css("display","none");
		  	t=0;
		  }
		});

		$( ".user" ).click(function() {
		  if(t==0){
		  	$( ".nofication-box" ).css("display","none");
		  	$( ".setting-box" ).css("display","block");
		  	t=1;
		  }else{
		  	$( ".nofication-box" ).css("display","none");
		  	$( ".setting-box" ).css("display","none");
		  	t=0;
		  }
		});
		$( ".btn-update" ).click(function() {
		  $(".btn-apply").css("pointer-events","auto");
		  $(".btn-apply").css("background-color","#20c997");
		  $(".input-info").css("pointer-events","auto")
		});
		$( ".btn-apply" ).click(function() {
		  $(".btn-apply").css("pointer-events","none");
		  $(".btn-apply").css("background-color","gray");
		  $(".input-info").css("pointer-events","none");
		  // get the user input values
		  const username = document.querySelector('.input-client-name').value;
		  const email = document.querySelector('.input-email').value;
		  const phoneNumber = document.querySelector('.input-phone-number').value;
		  const birthdate = document.querySelector('.input-birthday').value;
		  var sex = 0;
			if ($('#gender-male').prop('checked')) {
			  sex = 1;
			  console.log(sex);
			}
		  const obj = {userName: username, phoneNumber: phoneNumber, email: email, birthDate: birthdate, sex: sex};
		  // make a POST request to sign up the user
		  fetch('http://localhost:8081/home/info/change-info', {
		    method: 'POST',
		    headers: {
		      'Authorization': 'Bearer ' + sessionStorage.getItem('token'),
		      'Content-Type': 'application/json'
		    },
		    body: JSON.stringify(obj)
		  })
		  .then(response => {
		    if (response.ok) {
		      confirm("update info success")
		    }else{
		    	confirm("update info not success")
		    }
		  })
		  .then(data => {
		    // handle the successful response here
		  })
		  .catch(error => {
		    // handle errors here
		    console.error('Error:', error);
		  });
		});
		$(".menu-click").on('click', 'li', function () {
		    $(".menu-click li.active").removeClass("active");
		    // adding classname 'active' to current click li 
		    $(this).addClass("active");
		});
		$( ".panel" ).click(function() {
		  $( ".setting-box" ).css("display","none");
		  $( ".nofication-box" ).css("display","none");
		  $(".account-info").css("display","block");
		  $(".nofication-box-1").css("display","none");
		  $(".change-pw-box").css("display","none");
		  $(".status-price").css("display","none");
		  $( ".history-order" ).css("display","none");
			$(document).ready(function(){
				fetch('http://localhost:8081/home/info', {
				  headers: new Headers({
				    'Authorization': 'Bearer ' + sessionStorage.getItem('token'),
				    'Content-Type': 'application/json'
				  })
				})
				.then(response => response.json())
				.then(data => {
				  	$(".input-client-name").val(data.data.info.userName);
					$(".input-phone-number").val(data.data.info.phoneNumber);
					$(".input-id").val(data.data.info.userId);
					$(".input-email").val(data.data.info.email);
					$(".input-birthday").val(data.data.info.birthdate);
					if(data.data.info.sex==0){
						$('#gender-female').prop('checked', true);
						$('#gender-male').prop('checked', false);
					}else{
						$('#gender-female').prop('checked', false);
						$('#gender-male').prop('checked', true);
					}
				})
				.catch(error => {
				  console.error('Error:', error);
				});
			});
		});
		$( ".nofi-1" ).click(function() {
		  $( ".nofication-box" ).css("display","none");
		  $(".nofication-box-1").css("display","block");
		  $(".account-info").css("display","none");
		  $(".change-pw-box").css("display","none");
		  $(".status-price").css("display","none");
		  $( ".setting-box" ).css("display","none");
		  $( ".history-order" ).css("display","none");
		});
		$( ".show-more" ).click(function() {
		  $( ".nofication-box" ).css("display","none");
		  $(".nofication-box-1").css("display","block");
		  $(".account-info").css("display","none");
		  $(".change-pw-box").css("display","none");
		  $(".status-price").css("display","none");
		  $( ".history-order" ).css("display","none");
		  $( ".setting-box" ).css("display","none");
		});
		$( ".change-pw" ).click(function() {
		  $( ".nofication-box" ).css("display","none");
		  $(".nofication-box-1").css("display","none");
		  $(".account-info").css("display","none");
		  $(".change-pw-box").css("display","block");
		  $(".status-price").css("display","none");
		  $( ".setting-box" ).css("display","none");
		  $( ".history-order" ).css("display","none");
		  changePW();
		});
		$( ".pricing" ).click(function() {
		  $( ".nofication-box" ).css("display","none");
		  $(".nofication-box-1").css("display","none");
		  $(".account-info").css("display","none");
		  $(".change-pw-box").css("display","none");
		  $(".status-price").css("display","block");
		  $( ".setting-box" ).css("display","none");
		  $( ".history-order" ).css("display","none");
		  showAllPack();
		  showCurrentPack(sessionStorage.getItem('username'));
		});
		$( ".History" ).click(function() {
		  $( ".nofication-box" ).css("display","none");
		  $(".nofication-box-1").css("display","none");
		  $(".account-info").css("display","none");
		  $(".change-pw-box").css("display","none");
		  $(".status-price").css("display","none");
		  $( ".setting-box" ).css("display","none");
		  $( ".history-order" ).css("display","block");
		  showHistory(sessionStorage.getItem('username'));
		});
		$(document).ready(function() {
		  var us = sessionStorage.getItem('username');
		  if(us!=null){
		  	$('.text-us').html(us);
		  	$('.text-none').hide();
			$('.header__sign-in').attr('href', '/home/profile.html');
		  }else{
		  	$('.text-us').hide();
		  	$('.text-none').show();
			$('.header__sign-in').attr('href', '/login.html');
		  }
		});
		$(document).ready(function(){
				fetch('http://localhost:8081/home/info', {
				  headers: new Headers({
				    'Authorization': 'Bearer ' + sessionStorage.getItem('token'),
				    'Content-Type': 'application/json'
				  })
				})
				.then(response => response.json())
				.then(data => {
				  	$(".user").text(data.data.info.userName);
					
				})
				.catch(error => {
				  console.error('Error:', error);
				});
			});
		$(document).ready(function() {
		  $(".logout").click(function() {
		    fetch('http://localhost:8081/logout', {
		        headers: new Headers({
		          'Authorization': 'Bearer ' + sessionStorage.getItem('token'),
		          'Content-Type': 'application/json'
		        })
		      })
		      .then(response => {
		        if (!response.ok) {
		          throw new Error('Network response was not ok');
		        }
		        return response.json();
		      })
		      .then(data => {
		        sessionStorage.clear();
		        window.location.href = 'http://localhost/home/';
		        console.log('1');
		      })
		      .catch(error => {
		        
		      });
		    /*sessionStorage.clear();
		    window.location.href = 'http://localhost/home/';*/
		  });
		});
		function changePW() {
		  $(".btn-change-pw").click(function() {
		      var password = document.querySelector('.password').value;
			  var newPassword = document.querySelector('.newPassword').value;
			  var confirmPassword = document.querySelector('.confirmPassword').value;
			  console.log(password);
			  console.log(newPassword);
			  console.log(confirmPassword);
			  var payload = {
			    password: password,
			    newPassword: newPassword,
			    confirmPassword: confirmPassword
			  };
			  console.log(JSON.stringify(payload))
			  // make a POST request to sign up the user
			  fetch('http://localhost:8081/home/info/change-password', {
			    method: 'POST',
			    headers: {
			      'Authorization': 'Bearer ' + sessionStorage.getItem('token'),
			      'Content-Type': 'application/json'
			    },
			    body: JSON.stringify(payload)
			  })
			  .then(response => {
			  	
			    return response.json();
			  })
			  .then(data => {
			    // handle the successful response here
			    console.log(data);
			    if(data.error == null){
			    	confirm("change password is success! Now we go to back login")
			      	if (confirm("sign up is success! Now we go to back login")) {
				  		window.location.href = 'http://localhost/home/signin.html';
					}
					else{
						window.location.href = 'http://localhost/home/signin.html';
					}
			    }else{
			    	$('.error-label').html(`${data.error}`)
			    }
			  })
			  .catch(error => {
			    // handle errors here
			    console.error('Error:', error);
			  });
		  });
		};
		function showCurrentPack(str){
			fetch(`http://localhost:8081/home/info/film-package-for-client/${str}`, {
			  method: 'POST',
			  headers: {
			    'Authorization': 'Bearer ' + sessionStorage.getItem('token'),
			    'Content-Type': 'application/json'
			  },
			})
			  .then(response => {
			    return response.json(); // Trả về promise để sử dụng trong chuỗi .then() tiếp theo
			  })
			  .then(data => {
			  	console.log(data)
			    if (data.data == 1) {
			      $('.price__btn_1').html('Actived');
			      clickThanhtoan('price__btn_2');
			      clickThanhtoan('price__btn_3');
			    } else if (data.data == 3) {
			      $('.price__btn_2').html('Actived');
			      clickThanhtoan('price__btn_1');
			      clickThanhtoan('price__btn_3');
			    } else if (data.data == 6) {
			      $('.price__btn_3').html('Actived');
			      clickThanhtoan('price__btn_2');
			      clickThanhtoan('price__btn_1');
			    }else{
			    	clickThanhtoan('price__btn_2');
			      clickThanhtoan('price__btn_1');
			      clickThanhtoan('price__btn_3');
			    }
			   
			  })
			  .catch(error => {
			    // Xử lý lỗi ở đây
			    console.error('Error:', error);
			  });

		}
		function showAllPack() {
			fetch('http://localhost:8081/home/info/film-packages').then(res => {
				return res.json();
			}).then(data =>{
				$('.basic-price').html("$ " +data[0].price);
				$('.basic-time').html(data[0].usedTime + " months");
				$('.premium-price').html("$ " +data[1].price);
				$('.premium-time').html(data[1].usedTime + " months");
				$('.cinematic-price').html("$ " +data[2].price);
				$('.cinematic-time').html(data[2].usedTime + " months");
			}).catch(error => console.log(error))
		}
		function clickThanhtoan(str){
			$('.'+str).click(function() {
				window.location.href = "http://localhost/home/thanhtoan.html";
			})
		}
		function showHistory(str){
			fetch(`http://localhost:8081/home/info/purchase-history/${str}`, {
			  method: 'POST',
			}).then(res => {
				return res.json();
			}).then(data =>{
				for(var i=0;i<data.length;i++){
					var name = '',status='';
					var currentDate = moment(); // Lấy ngày hiện tại
					var compareDateStr = data[i].expirationDate;
					var compareDate = moment(compareDateStr, "YYYY-MM-DD");
					if(data[i].used_time==1){
						name = 'Basic Price';
					}else if(data[i].used_time==3){
						name = 'Premium Price';
					}else if(data[i].used_time==6){
						name = 'Cinematic Price';
					}
					if(currentDate.isBefore(compareDate)){
						status = 'Enable';
					}else if(currentDate.isAfter(compareDate)){
						status = 'Disabled'
					}
					var markup = `<tr>
						      <th scope="row">${i+1}</th>
						      <td>${name}</td>
						      <td>${data[i].startDate}</td>
						      <td>${data[i].expirationDate}</td>
						      <td>${status}</td>
						    </tr>`
					$('.history-order tbody').append(markup);
				}
			}).catch(error => console.log(error))
		}
	</script>
</body>

</html>